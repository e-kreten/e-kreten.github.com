<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>KRETÉN</title>
  <link rel="stylesheet" href="https://e-kreten.github.io/src/main_style.css">
</head>
<body>
<script>
  function login() {
      let username = document.getElementById("username_input").value;
      let password = document.getElementById("password_input").value;
      if (username == "admin" || password == "admin") {
           window.location.href = 'https://e-kreten.github.io/admin_panel';
      }
}

function reset_pw() {
      document.getElementById("resetModal").style.display = "flex";
       }
function closeResetModal() {
      document.getElementById("resetModal").style.display = "none";
}
</script>

<!-- Logo Header Section -->
<div class="logo-header">
    <img src="https://e-kreten.github.io/src/logo.png" alt="KRETÉN Logo">
  </div>

  <div class="container">
    <div class="header" id="title">
      Mit akarsz te kis ?
    </div>
    <div class="content">
        <p>Kérjük, adja meg az intézményi KRETÉN felhasználónevét és jelszavát. Amennyiben elfelejtette, keresse meg valamelyik publikus adatbázisban</p>
        <p>Tisztelt <a href="#">Róbert');-- DROP TABLE Tanuló;</a>, technikai okok miatt lehetséges, hogy a rendszer néha <em>(azaz soha)</em> nem működik.</p>
        <input type="text" placeholder="Felhasználónév" id="username_input">
        <input type="password" placeholder="Jelszó"id="password_input">
        <div class="action-row">
          <a onclick="reset_pw()">Elfelejtettem a jelszavam</a>
          <button class="button" onclick="login()">Bejelentkezés</button>
    </div>
  </div>
</div>

<!-- Modal -->
<div id="resetModal" class="modal-overlay" style="display:none;">
    <div class="modal-box">
      <div class="modal-header">
        <span>Jelszó visszaállítás</span>
        <button onclick="closeResetModal()" class="modal-close">&times;</button>
      </div>
      <div class="modal-body">
        <div class="loader"></div>
        <p>A jelszó helyreállítási kérelmét feldolgoztuk, és a következő eredményre jutottunk:</p>
        <p style="color: red; font-weight: bold;">
          A KRETÉN nem találta önt <a href="#" style="color: #00baff;">(Róbert');-- DROP TABLE Tanuló;)</a>+t elég fontosnak ahhoz, hogy foglalkozzon a problémájával.
        </p>
        <p><strong>Javasolt megoldások:</strong></p>
        <ul>
          <li>Próbáld meg kitalálni a jelszavad. Tippek: <strong>123456, password, admin, qwerty.</strong></li>
          <li>Kérdezd meg az informatika tanárodat, ő biztosan jobban emlékszik a jelszavadra, mint te.</li>
          <li>Kapcsold ki és be a gépedet.</li>
          <li>Használj firkát. (legjobb opció)</li>
          <li>Az is lehet, hogy a reFlic leakelt adatbázisában lett elmentve a jelszavad, kérdezd meg Kimát is.</li>
        </ul>
        <p style="font-style: italic; color: gray;">Az új jelszót elküldtük egy véletlenszerű e-mail címre, amit hasonlónak véltünk a tiédhez.</p>
      </div>
    </div>
  </div>

  <div class="idkwhat">
    Ez az oldal kizárólag szatirikus céllal készült, semmilyen kapcsolatban nincs ez az eredeti e-kretával.<br>
    A bejelentkezési adatok nem az igazi KRÉTA-hoz tartoznak, hanem az oldal easter egg-jei.<br>
    <strong>Ne add meg a valódi KRÉTA bejelentkezési adataidat!</strong>
  </div>

  <!-- Embedded XML with words -->
  <script type="text/xml" src="https://e-kreten.github.io/src/DirtyWords.xml" id="dirtyWordsData"></script>
  <script>
    // Parse embedded XML and pick 3 random words
    const xmlText = document.getElementById("dirtyWordsData").textContent;
    const parser = new DOMParser();
    const xml = parser.parseFromString(xmlText, "text/xml");
    const words = Array.from(xml.getElementsByTagName('word')).map(el => el.textContent.trim());

    if (words.length >= 3) {
      const shuffled = words.sort(() => 0.5 - Math.random());
      const [w1, w2, w3] = shuffled;
      document.getElementById("title").innerText = `Mit akarsz te kis ${w1} ${w2} ${w3}?`;
    }
  </script>

</body>
</html>
